<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <title>DeepReader</title>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merienda One">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Port Lligat Slab">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='up.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='menu.css') }}">
    <link href="//getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
 
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <!-- load D3.j from the web -->
    <script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='d3.layout.cloud.js') }}"></script>

    <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57004914-2', 'auto');
  ga('send', 'pageview');

</script>


    <!-- // <script type="text/javascript" src="{{ url_for('static', filename='require.js') }}"></script> -->
    <style>
      /* tell the SVG path to be a thin blue line without any area fill */
      path {
        stroke-width: 5;
        stroke-opacity: 0.8;
        fill: none;
      }
      
      .x.axis line ,x.axis path{
        fill: none;
        stroke: lightgrey;
        stroke-width: 2;
        stroke-opacity: 0.5;
      }

      .y.axis line, .y.axis path {
        fill: none;
        stroke: lightgrey;
        stroke-width: 2;
        stroke-opacity: 0.5;
      }

      div.tooltip {   
        position: absolute;           
        text-align: center;                            
        padding: 5px;             
        font: 12px Open Sans;        
        background: white;   
        border: 0px;      
        border-radius: 2px;           
        pointer-events: none;   
        box-shadow: 0px 0px 3px rgba(50,50,50,0.2);      
      }

      .row {
        padding: 20px;
      }
      .box-shadow--2dp {
          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12)
      }
      .box-shadow--3dp {
          box-shadow: 0 3px 4px 0 rgba(0, 0, 0, .14), 0 3px 3px -2px rgba(0, 0, 0, .2), 0 1px 8px 0 rgba(0, 0, 0, .12)
      }
      .box-shadow--4dp {
          box-shadow: 0 4px 5px 0 rgba(0, 0, 0, .14), 0 1px 10px 0 rgba(0, 0, 0, .12), 0 2px 4px -1px rgba(0, 0, 0, .2)
      }
      .box-shadow--6dp {
          box-shadow: 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12), 0 3px 5px -1px rgba(0, 0, 0, .2)
      }
      .box-shadow--8dp {
          box-shadow: 0 8px 10px 1px rgba(0, 0, 0, .14), 0 3px 14px 2px rgba(0, 0, 0, .12), 0 5px 5px -3px rgba(0, 0, 0, .2)
      }
      .box-shadow--16dp {
          box-shadow: 0 16px 24px 2px rgba(0, 0, 0, .14), 0 6px 30px 5px rgba(0, 0, 0, .12), 0 8px 10px -5px rgba(0, 0, 0, .2)
      }
      .top-buffer { margin-top:20px; }



HTML, BODY {
  height: 100%;
}

svg {
  background: white;
  background-size: .12em 100%;
  font: 12em/1 Open Sans;
}

.text--line {
  font-size: .5em;
}
/*
svg {
  position: absolute;
  width: 100%;
  height: 100%;
}*/

.text-copy {
  fill: none;
  stroke: white;
  stroke-dasharray: 7% 28%;
  stroke-width: 3px;
  -webkit-animation: stroke-offset 5s infinite linear;
          animation: stroke-offset 5s infinite linear;
}
.text-copy:nth-child(1) {
  stroke: #1abc9c;
  stroke-dashoffset: 7%;
}
.text-copy:nth-child(2) {
  stroke: #e74c3c;
  stroke-dashoffset: 14%;
}
.text-copy:nth-child(3) {
  stroke: #f1c40f;
  stroke-dashoffset: 21%;
}
.text-copy:nth-child(4) {
  stroke: #3498db;
  stroke-dashoffset: 28%;
}
.text-copy:nth-child(5) {
  stroke: #e67e22;
  stroke-dashoffset: 35%;
}

@-webkit-keyframes stroke-offset {
  50% {
    stroke-dashoffset: 70%;
    stroke-dasharray: 0 87.5%;
  }
}

@keyframes stroke-offset {
  50% {
    stroke-dashoffset: 35%;
    stroke-dasharray: 0 87.5%;
  }
}



}



}


body {
      position: relative; 
  }
  .sec1 { background-color: #e74c3c;}
  .sec2 { background-color: #3498db;}
  .sec3 { background-color: #9b59b6;}
  .sec4 { background-color: #2ecc71 ;}
  .sec5 {  background-color: #34495e;}

  .bloc{padding:50px; color:white;}

  a{color: gray;}




    </style>
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="50">


    <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <img class="img-responsive" alt="Logo" src="{{ url_for('static', filename='logo.png') }}">
      </div>
      <div>
        <ul class="nav navbar-nav">
          <li class="active"><a href="/presentation">Presentation</a></li>
          <li><a href="/corpusnet">Network</a></li> 
	  <li><a href="/d3">Text Analysis</a></li>
        </ul>
      </div>
    </div>
  </nav>



<svg viewBox="0 0 800 400">
  <symbol id="s-text">
    <text text-anchor="middle"
          x="50%"
          y="35%"
          class="text--line"
          >
      Deep
    </text>
    <text text-anchor="middle"
          x="50%"
          y="68%"
          class="text--line2"
          >
      Reader
    </text>
    
  </symbol>
  
  <g class="g-ants">
    <use xlink:href="#s-text"
      class="text-copy"></use>     
    <use xlink:href="#s-text"
      class="text-copy"></use>     
    <use xlink:href="#s-text"
      class="text-copy"></use>     
    <use xlink:href="#s-text"
      class="text-copy"></use>     
    <use xlink:href="#s-text"
      class="text-copy"></use>     
  </g>
  
  
</svg>

<div  class="bloc sec1 container-fluid">
  <h1>Work in progress</h1>
  <p>This project is currently under development</p>
</div>
<div  class="bloc sec2 container-fluid">
  <h1>What is it?</h1>
  <p>This is project developped in the context of the Msc Digital Media Engineering at DTU in partnership with EasyTranslate</p>
  <p>The goal is to provide tools to understand a text without reading it and to explore a corpus and the relations between texts</p>
  <p>We analyse texts on two levels</p>
  <li>Relations with other texts</li>
  <li>Topic distribution, complexity and most important words within a text</li>
</div>
<div class="bloc sec4 container-fluid">
  <h1>How it works?</h1>

  <div class="container-fluid">
      <div class="row top-buffer ">


      <div id="topics" class="col-md-4 text-center">
            <img class="box-shadow--8dp" src="{{ url_for('static', filename='preview.gif') }}" alt="how it works" style="width: 100%;"><br>
        </div>


        <div class="col-md-8" >
          <h2>Corpus vizualisation</h2>
          <p>The page <a href="/corpusnet">Network</a> shows a network composed of nodes. Nodes represent texts, and links represent the similarity between texts. The more a link is thick the more the texts are close. The graph gives a nice way to vizualise a corpus. </p>
          <p>You can see different types of nodes:
          <li>the lightest and largest represent directly a topic built with the LDA</li>
          <li>the smallest and darker nodes represent texts</li>
        </div>


        

        <div class="col-md-8" >
          <h2>Single text analysis</h2>

          <p>The page <a href="/d3">Text Analysis</a> shows the analysis of a single text. this page analysis a random text in the corpus. However, you access to the analysis of any text in the corpus from the network (button in the left panel).</p>
          <p>This page shows the distribution of topics along the text, the complexity based on the <a href="https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests">Flesch reading ease</a>, and the most important words for each topic presented with a wordcloud and a graph. (the way we find the most important words is descriebed in the following sections)
        </div>
      </div>
    </div>

  
</div>

<div class="bloc sec1 container-fluid text-center" style="background-color: #555555">
  <a href="/corpusnet"><button type="button" class="btn btn-warning box-shadow--8dp btn-lg">Try this amazing app!</button></a>

</div>



<div class="bloc sec3 container-fluid">
  <h1>Where the data come from?</h1>
  <p>Texts come from different sources.
  <li> The <a href="http://www.anc.org/data/masc/">MASC corpus</a> which provides a great variety of texts. However, some texts and categories have been removed in order to obtain a better repartition of texts.</li>
  <li>The <a href="https://www.gutenberg.org/">Gutemberg project</a> which provides a huge quantity of texts from different topics. Texts have been chosen according to their topics.
  <li>Some random texts like the iPhone user guide or the Apache Licenses.</li>
</div>



<div class="bloc sec5 container-fluid">
  <h1>How topics are made?</h1>

  <p>Topics have been made thanks to the <a href="https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation">LDA</a> (Latent Dirichlet Allocation). We used <a href="https://radimrehurek.com/gensim/n">Gensim</a>, an open source libray in python for natural language processing on the 5,025,150 articles from the English Wikipedia (one day of computation). The LDA is a model which enable from a corpus of texts to extract a given ammount of topics. Topics are groups of words with a probability given for each word.</p>

  <p>Topics are made accoridng to a mathematical model and are based on statisitcs. Thus, a word taken alone within a topic often doesn't make sens: topics give a probability for each word to belong to a topics (and can be present in several topics) because words are used in different contexts.</p>

  <p>In order to provide an overview of the texts without seeing the whole analysis, we gave a name for the most used topics. Keep in mind that these words are set manually. Therefore, some topic names can seem to be strange for some texts.</p>

</div>  


<div class="bloc sec5 container-fluid">
  <h1>What are the relations bewteen texts?</h1>

 <div class="container-fluid">
      <div class="row top-buffer ">


      <div id="topics" class="col-md-4 text-center">
            <img  src="{{ url_for('static', filename='cosine.png') }}" alt="how it works" style="width: 100%;"><br>
        </div>

        <div class="col-md-8" >
          <h2>Cosine similarity</h2>
          <p>The distance between texts is based on the cosine similarity in the topic space. Each topic represents a dimension. The cosine similarity is basically the cosine of the angle between two vectors in the topic space. The diagram on the left shows how it works with three topics: the cosine similarity corresponds to the cosine of the angle Θ between the two vector. The same principle is applicable with 100 dimensions.</p>

          <p>In order to obtain a graph that makes sense, we applies a threshold to the similarities: only the similarities higher than 80% are kept.</p>

        </div>

      
      </div>
    </div>




</div>


<div class="bloc sec5 container-fluid">
  <h1>How are the texts analysed?</h1>

  <h2>Topics distribution</h2>

  <p>Thanks to the LDA, we extract the topics from small chuncks in the text. It gives a probability for each part to belong to a specific topic.</p>

  <h2>Complexity</h2>

  <p>We use the <a href="https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests">Flesch reading ease</a> forumla to give an estimation of the complexity along the text. This formula is based on the length of the words, the number of syllabus and the length of the words.<p>

  <h2>Meaningful words</h2>

  <p>Usual scoring-functions like the TF-IDF was not working very well and it was very time-consuming. We developped our own scoring-function to sort words with regard to their importance in the text. </p>

  <p>This function is quite simple and is basically the length of the words divided by the frequency of the word in english. The frequency of the words is defined thanks to the Reuter corpus from NLTK. The choice of the length of the words as a characteristic parameter is motivated by the fact than, in English, the more a word is long, the more the word carry meaning. The <a href="https://www.youtube.com/watch?v=fCn8zs912OE">video</a>  from the youtuber VSauce explains it very well. </p>
</div>  


<div class="bloc sec1 container-fluid">
  <h1>Limitations</h1>

    <p>Topics are modelised on the whole english wikipedia and only 100 categories are represented. Thus, the possibilities are limited, we can differentiate a user guide and a movie script but we cannot differentiate a horror movie script and a romantic movie script because the language used for both documents is very close (dialogues). 


</div>  


<div class="bloc  container-fluid">
  <h1>About us</h1>

  <div class="container-fluid">
      <h1> {{file_title}} </h1>
      <div class="row top-buffer ">
        <div  class="col-md-2 box-shadow--8dp" style="float:left;min-height: 400px;  min-width: 47%;display: inline-block">
            Valentin Liévin
        </div>

        <div class="col-md-2 box-shadow--8dp" style="float:right;min-height: 400px;  min-width: 47%;display: inline-block">
          Yannis Flet-Berliac
        </div>
      </div>
    </div>


</div>  


    
</body>
</html>

<!--
d3.json("/data", function(error, data) {

});





        canvas.selectAll("rect")
        .data(loaded_data)
        .enter()
          .append("rect")
          .attr("width", function(d) {return wScale(d.y)})
          .attr("y", function(d,i){return i * 50})
          .attr("height", 40)
          .attr("fill", '#1abc9c');






          d3.json("/data", function(error,loaded_data) {


        var width = 600;
        var height = 300;

        var wScale = d3.scale.linear()
        .domain([0, 100]).range( [0, width] );

        var canvas = d3.select("body").append("svg")
        .attr("width", height)
        .attr("height", width);

        var group = canvas.append("g")
        .attr( "transform", "translate(0, 0)");


        var line = d3.svg.line()
        .x(function(d) {return d.x; })
        .y(function(d) {return d.y;});

        group.selectAll("path")
        .data(loaded_data)
        .enter()
        .append("path")
        .attr("d", line)
        .attr("fill", "none")
        .attr("stroke", 'black')
        .attr('stroke-width', 10)






      });


      -->
